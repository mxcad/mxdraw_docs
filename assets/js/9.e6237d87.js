(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{600:function(t,a,s){t.exports=s.p+"assets/img/unloadCloud.51a1f4f7.png"},601:function(t,a,s){t.exports=s.p+"assets/img/filedToc.52693985.png"},602:function(t,a,s){t.exports=s.p+"assets/img/startProgram.72c9947b.png"},603:function(t,a,s){t.exports=s.p+"assets/img/selectFiled_1.6c68e231.png"},640:function(t,a,s){"use strict";s.r(a);var n=s(12),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"打开cad图纸"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打开cad图纸"}},[t._v("#")]),t._v(" 打开CAD图纸")]),t._v(" "),n("p",[t._v("mxdraw.js不仅能够打开画布绘图，还能打开CAD图纸进行简单的预览标注。在API"),n("code",[t._v("Mx.MxFun.createMxObject()")]),t._v("中提供了可打开CAD图纸的属性"),n("code",[t._v("cadFile")]),t._v("，用户可通过该属性设置CAD图纸路径，其中，该CAD图纸需要借助MxDraw云图开发包转换文件格式后才能被读取。具体操作请参考"),n("a",{attrs:{href:"#%E5%9B%BE%E7%BA%B8%E8%BD%AC%E6%8D%A2"}},[t._v("图纸转换")]),t._v("。")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token special-attr"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),n("span",{pre:!0,attrs:{class:"token value css language-css"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80vh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("overflow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("canvas")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("mxcad"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("canvas")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 动态加载 js库核心代码")]),t._v("\nMx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadCoreCode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建控件对象")]),t._v("\n  Mx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MxFun"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createMxObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("canvasId")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mxdraw"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// canvas元素的id")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转换后的文件是多个.wgh的文件构成， 但是我们只需要得到前缀，就可以访问，")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 比如:../../demo/buf/$hhhh.dwg 我们可以直接写成cadFile: "../../demo/buf/hhhh.dwg"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转换后的文件")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cadFile")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../demo/buf/hhhh.dwg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"图纸转换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图纸转换"}},[t._v("#")]),t._v(" 图纸转换")]),t._v(" "),n("p",[t._v("由于CAD图纸无法直接被在线浏览，因此需要借助MxDraw云图开发包来转换成可被在线浏览的文件格式，具体操作步骤如下：")]),t._v(" "),n("p",[t._v("(更详细开发包使用说明请参考"),n("a",{attrs:{href:"https://help.mxdraw.com/?pid=32",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mxdraw云图文档"),n("OutboundLink")],1),t._v(")")]),t._v(" "),n("h3",{attrs:{id:"第一步-下载mxdraw云图开发包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一步-下载mxdraw云图开发包"}},[t._v("#")]),t._v(" 第一步:下载Mxdraw云图开发包")]),t._v(" "),n("p",[t._v("MxDraw云图开发包中提供了图纸转换的exe程序(支持 window 和linux 版本)，包含了各种配套服务(如node 后端开发相关源码、图纸信息提取 以及前端的各种示例源码)，可在官网下载最新版本的"),n("a",{attrs:{href:"https://www.mxdraw.com/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mxdraw云图开发包"),n("OutboundLink")],1),t._v("。\n"),n("img",{attrs:{src:s(600),alt:"下载Mxdraw云图开发包"}}),t._v("\n下载Mxdraw云图开发包解压后的文件目录：\n"),n("img",{attrs:{src:s(601),alt:"Mxdraw云图开发包文件目录"}})]),t._v(" "),n("h3",{attrs:{id:"第二步-调用mxfileconvert-exe启动图纸转换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二步-调用mxfileconvert-exe启动图纸转换"}},[t._v("#")]),t._v(" 第二步 调用MxFileConvert.exe启动图纸转换")]),t._v(" "),n("p",[t._v("在解压后的文件夹目录下找MxFileConvert.exe应用程序并双击启动。经过转换的目标CAD文件变为多个dwg格式的文件并统一保存在名为buf的文件夹中。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(602),alt:"启动图纸转换程序"}})]),t._v(" "),n("p",[n("img",{attrs:{src:s(603),alt:"选择目标CAD文件1"}})]),t._v(" "),n("p",[t._v("成功转换文件格式后，得到含有多个dwg文件的buf文件夹，并保存在目标文件所在的目录下。")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://admin.mxdraw3d.com/images/ueditor/1496380114215243776.png",alt:"转换后的图纸文件位置"}})]),t._v(" "),n("h3",{attrs:{id:"第三步-网页渲染展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三步-网页渲染展示"}},[t._v("#")]),t._v(" 第三步 网页渲染展示")]),t._v(" "),n("p",[t._v("我们可以通过Mx.MxFun.createMxObject读取CAD图纸。")]),t._v(" "),n("h2",{attrs:{id:"其他转换方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他转换方式"}},[t._v("#")]),t._v(" 其他转换方式")]),t._v(" "),n("h3",{attrs:{id:"windows系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#windows系统"}},[t._v("#")]),t._v(" windows系统")]),t._v(" "),n("p",[t._v('打开cmd，启动命令行进入MxFileConvert.exe所在的目录后，再调用命令：MxFileConvert.exe "C:/test.dwg"，其中"C:/test.dwg"为需要转换格式的目标文件所在位置。调用结束后，只有当命令行输出\'{"code":0,"message":"ok"}\'才表示图纸转换成功。转换后的文件保存在目标文件所在的目录下的buf文件夹中。示例代码如下：')]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MxDrawCloudServer1.0TryVersion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MxDrawCloudServer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Release\n\nMxFileConvert.exe "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:/test.dwg"')]),t._v("\n\n")])])]),n("h3",{attrs:{id:"linux系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux系统"}},[t._v("#")]),t._v(" linux系统")]),t._v(" "),n("p",[t._v("找到开发包目录"),n("code",[t._v("Bin\\Linux\\Bin")]),t._v("后，运行命令把该目录下的文件拷到 Linux系统上，再执行如下命令，增加文件的执行权限：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" root\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" *\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -r ./mx /mx\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" /mx/*\n./node mxconvert.js "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".dwg\n")])])]),n("p",[t._v("转换后的文件在"),n("code",[t._v("Bin\\Linux\\Bin\\buf")]),t._v("目录下")]),t._v(" "),n("demo",{attrs:{url:t.$withBase("/samples/start/quickStart.html")}})],1)}),[],!1,null,null,null);a.default=e.exports}}]);